{"ast":null,"code":"import _slicedToArray from \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass8/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass8/frontend/src/components/LoginForm.js\";\nimport React, { useState } from 'react';\n\nconst LoginForm = props => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        username = _useState2[0],\n        setUsername = _useState2[1];\n\n  const _useState3 = useState('secred'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    const result = await props.login({\n      variables: {\n        username,\n        password\n      }\n    });\n\n    if (result) {\n      const token = result.data.login.value;\n      props.setToken(token);\n      localStorage.setItem('whatever-user-token', token);\n    }\n\n    setUsername('');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"username: \", React.createElement(\"input\", {\n    value: username,\n    onChange: ({\n      target\n    }) => setUsername(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"login\")));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass8/frontend/src/components/LoginForm.js"],"names":["React","useState","LoginForm","props","username","setUsername","password","setPassword","handleLogin","e","preventDefault","result","login","variables","token","data","value","setToken","localStorage","setItem","target"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAIA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA,oBAEOF,QAAQ,CAAC,EAAD,CAFf;AAAA;AAAA,QAElBG,QAFkB;AAAA,QAERC,WAFQ;;AAAA,qBAGOJ,QAAQ,CAAC,QAAD,CAHf;AAAA;AAAA,QAGlBK,QAHkB;AAAA,QAGRC,WAHQ;;AAMzB,QAAMC,WAAW,GAAG,MAAOC,CAAP,IAAa;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,MAAM,GAAG,MAAMR,KAAK,CAACS,KAAN,CAAY;AAC7BC,MAAAA,SAAS,EAAE;AAAET,QAAAA,QAAF;AAAYE,QAAAA;AAAZ;AADkB,KAAZ,CAArB;;AAIA,QAAGK,MAAH,EAAU;AACN,YAAMG,KAAK,GAAGH,MAAM,CAACI,IAAP,CAAYH,KAAZ,CAAkBI,KAAhC;AACAb,MAAAA,KAAK,CAACc,QAAN,CAAeH,KAAf;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,qBAArB,EAA4CL,KAA5C;AACH;;AAEDT,IAAAA,WAAW,CAAC,EAAD,CAAX;AACH,GAdD;;AAiBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAEG,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEc;AAAO,IAAA,KAAK,EAAEJ,QAAd;AACO,IAAA,QAAQ,EAAE,CAAC;AAAEgB,MAAAA;AAAF,KAAD,KAAgBf,WAAW,CAACe,MAAM,CAACJ,KAAR,CAD5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFd,EAKA;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALA,CADJ,CADJ;AAYH,CAnCD;;AAsCA,eAAed,SAAf","sourcesContent":["import React, { useState } from 'react'\n\n\n\nconst LoginForm = (props) => {\n\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('secred')\n\n\n    const handleLogin = async (e) => {\n        e.preventDefault()\n       \n        const result = await props.login({\n            variables: { username, password }\n        })\n\n        if(result){\n            const token = result.data.login.value\n            props.setToken(token)\n            localStorage.setItem('whatever-user-token', token)\n        }\n\n        setUsername('')\n    }\n\n\n    return (\n        <div>\n            <form onSubmit={handleLogin}>\n\n                username: <input value={username}\n                                 onChange={({ target }) => setUsername(target.value)}/>\n\n            <button type='submit'>login</button>\n            </form>\n        </div>\n    )\n\n}\n\n\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}